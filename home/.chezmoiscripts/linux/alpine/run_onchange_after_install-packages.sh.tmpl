#!/usr/bin/env sh

# ~/.config/dotfiles/utils/standard.json hash:
# {{ include "private_dot_config/dotfiles/utils/standard.json" | sha256sum }}

# dotfiles lib.sh hash:
# {{ include "lib.sh" | sha256sum }}

{{ $version := trimPrefix "Alpine Linux " .chezmoi.osRelease.prettyName | trimPrefix "v" | regexFind "\\d+\\.\\d+|\\w+" -}}
{{ if eq $version "3.18" "3.17" }}
. "$CHEZMOI_SOURCE_DIR/home/lib.sh"
{{ else }}
. "$CHEZMOI_SOURCE_DIR/lib.sh"
{{ end }}

standard_utils linux alpine "{{ $version }}"
sudo apk add $utils

#{{ if .is.personal }}
#personal_utils linux alpine "{{ $version }}"
#sudo apk add $utils
#{{ endif }}

{{ if .is.devtools }}
dev_utils linux alpine "{{ $version }}"
sudo apk add $utils
{{ endif }}
